#!/bin/sh

usage() {
  echo "Usage: $0" 1>&2;
  echo " -n <string> : Brew Package Name" 1>&2;
  exit 1;
}

if [ $# -eq 0 ] ; then
  usage
fi

while getopts ':n:' flag; do
  case "${flag}" in
    n) package_name=${OPTARG} ;;
    *) usage ;;
  esac
done

# Check for Homebrew
if test ! $(which brew)
then
  echo "Installing Homebrew for you"
  /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)"
  echo 'eval "$(/opt/homebrew/bin/brew shellenv)"'
  brew tap caskroom/cask
  brew install caskroom/cask/brew-cask
fi

if [ -z ${package_name} ] ; then
  echo "[-n] Package Name is required";
  exit 1;
else
  brew list | grep -wq "$package_name" >/dev/null
  if [[ $? -ne 0  ]]; then
    echo "Installing Brew Module: $npm_name"
    brew install "$package_name"
  fi
fi


# - Computer
# - Gmail
# - Slack
# - Jira
# - Github
# - VPN
# - 

# cask_install -n google-drive
# cask_install -n spotify -d
# cask_install -n sonos -d
# cask_install -n dashlane -d

brew install z
brew install pyenv

# Install Meslo Powerline Font
brew tap homebrew/cask-fonts
brew install font-meslo-for-powerline

brew install coreutils

#####################################################
# Syntax Highlighting
# https://github.com/zsh-users/zsh-syntax-highlighting
brew install zsh-syntax-highlighting

#####################################################
# History Substring Search
# https://github.com/zsh-users/zsh-history-substring-search
brew install zsh-history-substring-search
